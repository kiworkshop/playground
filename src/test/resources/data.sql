drop table if exists user CASCADE;
create table user
(
    id          bigint generated by default as identity,
    name        varchar(100),
    insert_date timestamp default now(),
    update_date timestamp,
    primary key (id)
);


drop table if exists document CASCADE;
create table document
(
    id             bigint generated by default as identity,
    title          varchar(255),
    category       varchar(100),
    contents       clob,
    drafter_id     bigint,
    drafter_name   varchar(100),
    approval_state varchar(100),
    insert_date    timestamp default now(),
    update_date    timestamp,
    primary key (id)
);


drop table if exists document_approval CASCADE;
create table document_approval
(
    id               bigint generated by default as identity,
    approver_id      bigint,
    document_id      bigint,
    approval_state   varchar(100),
    approval_order   bigint,
    approval_comment clob,
    primary key (id)
);


insert into user(id, name)
values (1, 'user1'),
       (2, 'user2'),
       (3, 'user3'),
       (4, 'user4'),
       (5, 'user5');


insert into document(id, title, category, contents, drafter_id, drafter_name, approval_state)
values (1, '문서1', '운영비', '제출합니다.', 1, 'user1', '결재중'),
       (2, '문서2', '교육', '제출합니다.', 2, 'user2', '결재중'),
       (3, '문서3', '교육', '제출합니다.', 2, 'user2', '결재중'),
       (4, '문서4', '교육', '제출합니다.', 2, 'user2', '결재중'),
       (5, '문서5', '물품구매', '제출합니다.', 3, 'user3', '결재중');


insert into document_approval(id, approver_id, document_id, approval_state, approval_order,
                              approval_comment)
values (1, 1, 1, '승인', 1, ''),
       (2, 2, 1, '승인', 2, ''),
       (3, 3, 1, '결재중', 3, ''),
       (4, 4, 1, '결재중', 4, ''),
       (5, 5, 1, '결재중', 5, ''),

       (6, 2, 2, '결재중', 1, ''),
       (7, 1, 2, '결재중', 2, ''),
       (8, 3, 2, '결재중', 3, ''),

       (9, 3, 3, '승인', 1, ''),
       (10, 1, 3, '결재중', 2, ''),
       (11, 4, 3, '결재중', 3, ''),
       (12, 5, 3, '결재중', 4, ''),

       (13, 4, 4, '결재중', 1, ''),

       (14, 5, 5, '결재중', 1, '');
